var Q=Object.create;var M=Object.defineProperty;var V=Object.getOwnPropertyDescriptor;var W=Object.getOwnPropertyNames,b=Object.getOwnPropertySymbols,Y=Object.getPrototypeOf,L=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var C=(e,t,n)=>t in e?M(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,A=(e,t)=>{for(var n in t||(t={}))L.call(t,n)&&C(e,n,t[n]);if(b)for(var n of b(t))H.call(t,n)&&C(e,n,t[n]);return e};var B=e=>M(e,"__esModule",{value:!0});var R=(e,t)=>{var n={};for(var i in e)L.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&b)for(var i of b(e))t.indexOf(i)<0&&H.call(e,i)&&(n[i]=e[i]);return n};var Z=(e,t)=>{for(var n in t)M(e,n,{get:t[n],enumerable:!0})},j=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let u of W(t))!L.call(e,u)&&(n||u!=="default")&&M(e,u,{get:()=>t[u],enumerable:!(i=V(t,u))||i.enumerable});return e},y=(e,t)=>j(B(M(e!=null?Q(Y(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),_=(e=>(t,n)=>e&&e.get(t)||(n=j(B({}),t,1),e&&e.set(t,n),n))(typeof WeakMap!="undefined"?new WeakMap:0);var re={};Z(re,{AddressAutofill:()=>F,AddressMinimap:()=>J,SearchBox:()=>I,config:()=>N.config,useConfirmAddress:()=>z,useEvented:()=>K,useMapboxAutofill:()=>U,useMapboxSearch:()=>X,useSearchSession:()=>G});var Ee=require("@mapbox/search-js-web"),N=require("@mapbox/search-js-web");var f=y(require("react")),F=f.default.forwardRef((e,t)=>{let{accessToken:n,options:i,theme:u,popoverOptions:l,confirmOnBrowserAutofill:S,children:v,onSuggest:g,onSuggestError:d,onRetrieve:m}=e,s=(0,f.useRef)();return(0,f.useImperativeHandle)(t,()=>({focus:()=>{if(s.current)return s.current.focus();throw new Error("AddressAutofill is not mounted")}})),(0,f.useEffect)(()=>{s.current&&(s.current.options=i)},[s.current,i]),(0,f.useEffect)(()=>{s.current&&(s.current.theme=u)},[s.current,u]),(0,f.useEffect)(()=>{s.current&&(s.current.popoverOptions=l)},[s.current,l]),(0,f.useEffect)(()=>{s.current&&(s.current.confirmOnBrowserAutofill=S)},[s.current,S]),(0,f.useEffect)(()=>{let o=s.current;if(!o||!g)return;let r=a=>g(a.detail);return o.addEventListener("suggest",r),()=>{o.removeEventListener("suggest",r)}},[s.current,g]),(0,f.useEffect)(()=>{let o=s.current;if(!o||!d)return;let r=a=>d(a.detail);return o.addEventListener("suggesterror",r),()=>{o.removeEventListener("suggesterror",r)}},[s.current,d]),(0,f.useEffect)(()=>{let o=s.current;if(!o||!m)return;let r=a=>m(a.detail);return o.addEventListener("retrieve",r),()=>{o.removeEventListener("retrieve",r)}},[s.current,m]),(0,f.useEffect)(()=>{s.current&&(s.current.accessToken=n)},[s.current,n]),f.default.createElement("mapbox-address-autofill",{ref:s},v)});var c=y(require("react")),I=c.default.forwardRef((e,t)=>{let{accessToken:n,options:i,theme:u,popoverOptions:l,map:S,value:v,onChange:g,onSuggest:d,onSuggestError:m,onRetrieve:s}=e,o=(0,c.useRef)();return(0,c.useImperativeHandle)(t,()=>({focus:()=>{if(o.current)return o.current.focus();throw new Error("SearchBox is not mounted")}})),(0,c.useEffect)(()=>{o.current&&(o.current.options=i)},[o.current,i]),(0,c.useEffect)(()=>{o.current&&(o.current.theme=u)},[o.current,u]),(0,c.useEffect)(()=>{o.current&&(o.current.popoverOptions=l)},[o.current,l]),(0,c.useEffect)(()=>{o.current&&(o.current.value=v)},[o.current,v]),(0,c.useEffect)(()=>{let r=o.current;if(!!r)return r.bindMap(S),()=>{r.unbindMap()}},[o.current,S]),(0,c.useEffect)(()=>{let r=o.current;if(!r)return;let a=x=>d(x.detail);return r.addEventListener("suggest",a),()=>{r.removeEventListener("suggest",a)}},[o.current,d]),(0,c.useEffect)(()=>{let r=o.current;if(!r)return;let a=x=>m(x.detail);return r.addEventListener("suggesterror",a),()=>{r.removeEventListener("suggesterror",a)}},[o.current,m]),(0,c.useEffect)(()=>{let r=o.current;if(!r)return;let a=x=>s(x.detail);return r.addEventListener("retrieve",a),()=>{r.removeEventListener("retrieve",a)}},[o.current,s]),(0,c.useEffect)(()=>{let r=o.current;if(!r)return;let a=x=>g(x.detail);return r.addEventListener("input",a),()=>{r.removeEventListener("input",a)}},[o.current,g]),(0,c.useEffect)(()=>{o.current&&(o.current.accessToken=n)},[o.current,n]),c.default.createElement("mapbox-search-box",{ref:o})});var p=y(require("react"));function J(e){let{canAdjustMarker:t=!1,keepMarkerCentered:n=!1,markerAnchor:i="bottom",onSaveMarkerLocation:u,show:l=!1,accessToken:S,feature:v=null,satelliteToggle:g=!1,theme:d,mapStyleMode:m="default",defaultMapStyle:s=["mapbox","streets-v11"],footer:o}=e,r=(0,p.useRef)();return(0,p.useEffect)(()=>{!r.current||(l?r.current.show():r.current.hide())},[r.current,l]),(0,p.useEffect)(()=>{r.current&&(r.current.theme=d)},[r.current,d]),(0,p.useEffect)(()=>{r.current&&(r.current.feature=l?v:null)},[r.current,v,l]),(0,p.useEffect)(()=>{r.current&&(r.current.mapStyleMode=m)},[r.current,m]),(0,p.useEffect)(()=>{r.current&&(r.current.defaultMapStyle=s)},[r.current,s]),(0,p.useEffect)(()=>{o!==void 0&&r.current&&(r.current.footer=o)},[r.current,o]),(0,p.useEffect)(()=>{r.current&&(r.current.accessToken=S)},[r.current,S]),(0,p.useEffect)(()=>{r.current&&(r.current.onSaveMarkerLocation=u)},[r.current,u]),p.default.createElement("mapbox-address-minimap",{ref:r,"can-adjust-marker":t,"keep-marker-centered":n,"marker-anchor":i,"satellite-toggle":g})}var h=require("react");function K(e,t,n){let i=(0,h.useRef)(n);(0,h.useEffect)(()=>{i.current=n}),(0,h.useEffect)(()=>{if(!e)return;let u=l=>i.current(l);return e.addEventListener(t,u),()=>{e.removeEventListener(t,u)}},[e,t,i])}var E=require("react"),w=require("@mapbox/search-js-core"),$=w.MapboxAutofill.defaults;function U(e){let t=(0,E.useMemo)(()=>new w.MapboxAutofill,[]);return(0,E.useEffect)(()=>{let u=e,{accessToken:n}=u,i=R(u,["accessToken"]);t.accessToken=n,t.defaults=A(A({},$),i)},[e]),t}var T=require("react"),P=require("@mapbox/search-js-core"),ee=P.MapboxSearch.defaults;function X(e){let t=(0,T.useMemo)(()=>new P.MapboxSearch,[]);return(0,T.useEffect)(()=>{let u=e,{accessToken:n}=u,i=R(u,["accessToken"]);t.accessToken=n,t.defaults=A(A({},ee),i)},[e]),t}var O=require("@mapbox/search-js-core"),D=require("react");function G(e){let t=(0,D.useMemo)(()=>new O.SearchSession(e),[e]);return e instanceof O.MapboxSearch,t}var k=require("react"),q=require("@mapbox/search-js-web");function z(e={}){let t=(0,k.useRef)(null);return(0,k.useMemo)(()=>({formRef:t,showConfirm:()=>(0,q.confirmAddress)(t.current,e)}),[t,e])}module.exports=_(re);
//# sourceMappingURL=index.js.map
